//  copyright lexilogos.com
var car;

function transcrire() {
car = document.conversion.saisie.value;
car = car.replace(/v/g, "ü");
car = car.replace(/a=/g, "ā");
car = car.replace(/ā=/g, "á");
car = car.replace(/á=/g, "ǎ");
car = car.replace(/ǎ=/g, "à");
car = car.replace(/à=/g, "a");
car = car.replace(/e=/g, "ē");
car = car.replace(/ē=/g, "é");
car = car.replace(/é=/g, "ě");
car = car.replace(/ě=/g, "è");
car = car.replace(/è=/g, "e");
car = car.replace(/i=/g, "ī");
car = car.replace(/ī=/g, "í");
car = car.replace(/í=/g, "ǐ");
car = car.replace(/ǐ=/g, "ì");
car = car.replace(/ì=/g, "i");
car = car.replace(/o=/g, "ō");
car = car.replace(/ō=/g, "ó");
car = car.replace(/ó=/g, "ǒ");
car = car.replace(/ǒ=/g, "ò");
car = car.replace(/ò=/g, "o");
car = car.replace(/u=/g, "ū");
car = car.replace(/ū=/g, "ú");
car = car.replace(/ú=/g, "ǔ");
car = car.replace(/ǔ=/g, "ù");
car = car.replace(/ù=/g, "u");
car = car.replace(/ü=/g, "ǖ");
car = car.replace(/ǖ=/g, "ǘ");
car = car.replace(/ǘ=/g, "ǚ");
car = car.replace(/ǚ=/g, "ǜ");
car = car.replace(/ǜ=/g, "ü");
car = car.replace(/a1/g, "ā");
car = car.replace(/a2/g, "á");
car = car.replace(/a3/g, "ǎ");
car = car.replace(/a4/g, "à");
car = car.replace(/e1/g, "ē");
car = car.replace(/e2/g, "é");
car = car.replace(/e3/g, "ě");
car = car.replace(/e4/g, "è");
car = car.replace(/i1/g, "ī");
car = car.replace(/i2/g, "í");
car = car.replace(/i3/g, "ǐ");
car = car.replace(/i4/g, "ì");
car = car.replace(/o1/g, "ō");
car = car.replace(/o2/g, "ó");
car = car.replace(/o3/g, "ǒ");
car = car.replace(/o4/g, "ò");
car = car.replace(/u1/g, "ū");
car = car.replace(/u2/g, "ú");
car = car.replace(/u3/g, "ǔ");
car = car.replace(/u4/g, "ù");
car = car.replace(/ü1/g, "ǖ");
car = car.replace(/ü2/g, "ǘ");
car = car.replace(/ü3/g, "ǚ");
car = car.replace(/ü4/g, "ǜ");
car = car.replace(/an1/g, "ān");
car = car.replace(/an2/g, "án");
car = car.replace(/an3/g, "ǎn");
car = car.replace(/an4/g, "àn");
car = car.replace(/ang1/g, "āng");
car = car.replace(/ang2/g, "áng");
car = car.replace(/ang3/g, "ǎng");
car = car.replace(/ang4/g, "àng");
car = car.replace(/en1/g, "ēn");
car = car.replace(/en2/g, "én");
car = car.replace(/en3/g, "ěn");
car = car.replace(/en4/g, "èn");
car = car.replace(/eng1/g, "ēng");
car = car.replace(/eng2/g, "éng");
car = car.replace(/eng3/g, "ěng");
car = car.replace(/eng4/g, "èng");
car = car.replace(/in1/g, "īn");
car = car.replace(/in2/g, "ín");
car = car.replace(/in3/g, "ǐn");
car = car.replace(/in4/g, "ìn");
car = car.replace(/ing1/g, "īng");
car = car.replace(/ing2/g, "íng");
car = car.replace(/ing3/g, "ǐng");
car = car.replace(/ing4/g, "ìng");
car = car.replace(/ong1/g, "ōng");
car = car.replace(/ong2/g, "óng");
car = car.replace(/ong3/g, "ǒng");
car = car.replace(/ong4/g, "òng");
car = car.replace(/un1/g, "ūn");
car = car.replace(/un2/g, "ún");
car = car.replace(/un3/g, "ǔn");
car = car.replace(/un4/g, "ùn");
car = car.replace(/er2/g, "ér");
car = car.replace(/er3/g, "ěr");
car = car.replace(/er4/g, "èr");
car = car.replace(/aō/g, "āo");
car = car.replace(/aó/g, "áo");
car = car.replace(/aǒ/g, "ǎo");
car = car.replace(/aò/g, "ào");
car = car.replace(/oū/g, "ōu");
car = car.replace(/oú/g, "óu");
car = car.replace(/oǔ/g, "ǒu");
car = car.replace(/où/g, "òu");
car = car.replace(/aī/g, "āi");
car = car.replace(/aí/g, "ái");
car = car.replace(/aǐ/g, "ǎi");
car = car.replace(/aì/g, "ài");
car = car.replace(/eī/g, "ēi");
car = car.replace(/eí/g, "éi");
car = car.replace(/eǐ/g, "ěi");
car = car.replace(/eì/g, "èi");

car = car.replace(/V/g, "Ü");
car = car.replace(/A=/g, "Ā");
car = car.replace(/Ā=/g, "Á");
car = car.replace(/Á=/g, "Ǎ");
car = car.replace(/Ǎ=/g, "À");
car = car.replace(/À=/g, "A");
car = car.replace(/E=/g, "Ē");
car = car.replace(/Ē=/g, "É");
car = car.replace(/É=/g, "Ě");
car = car.replace(/Ě=/g, "È");
car = car.replace(/È=/g, "E");
car = car.replace(/I=/g, "Ī");
car = car.replace(/Ī=/g, "Í");
car = car.replace(/Í=/g, "Ǐ");
car = car.replace(/Ǐ=/g, "Ì");
car = car.replace(/Ì=/g, "I");
car = car.replace(/O=/g, "Ō");
car = car.replace(/Ō=/g, "Ó");
car = car.replace(/Ó=/g, "Ǒ");
car = car.replace(/Ǒ=/g, "Ò");
car = car.replace(/Ò=/g, "O");
car = car.replace(/U=/g, "Ū");
car = car.replace(/Ū=/g, "Ú");
car = car.replace(/Ú=/g, "Ǔ");
car = car.replace(/Ǔ=/g, "Ù");
car = car.replace(/Ù=/g, "U");
car = car.replace(/Ü=/g, "Ǖ");
car = car.replace(/Ǖ=/g, "Ǘ");
car = car.replace(/Ǘ=/g, "Ǚ");
car = car.replace(/Ǚ=/g, "Ǜ");
car = car.replace(/Ǜ=/g, "Ü");
car = car.replace(/A1/g, "Ā");
car = car.replace(/A2/g, "Á");
car = car.replace(/A3/g, "Ǎ");
car = car.replace(/A4/g, "À");
car = car.replace(/E1/g, "Ē");
car = car.replace(/E2/g, "É");
car = car.replace(/E3/g, "Ě");
car = car.replace(/E4/g, "È");
car = car.replace(/I1/g, "Ī");
car = car.replace(/I2/g, "Í");
car = car.replace(/I3/g, "Ǐ");
car = car.replace(/I4/g, "Ì");
car = car.replace(/O1/g, "Ō");
car = car.replace(/O2/g, "Ó");
car = car.replace(/O3/g, "Ǒ");
car = car.replace(/O4/g, "Ò");
car = car.replace(/U1/g, "Ū");
car = car.replace(/U2/g, "Ú");
car = car.replace(/U3/g, "Ǔ");
car = car.replace(/U4/g, "Ù");
car = car.replace(/Ü1/g, "Ǖ");
car = car.replace(/Ü2/g, "Ǘ");
car = car.replace(/Ü3/g, "Ǚ");
car = car.replace(/Ü4/g, "Ǜ");
car = car.replace(/AN1/g, "ĀN");
car = car.replace(/AN2/g, "ÁN");
car = car.replace(/AN3/g, "ǍN");
car = car.replace(/AN4/g, "ÀN");
car = car.replace(/ANG1/g, "ĀNG");
car = car.replace(/ANG2/g, "ÁNG");
car = car.replace(/ANG3/g, "ǍNG");
car = car.replace(/ANG4/g, "ÀNG");
car = car.replace(/EN1/g, "ĒN");
car = car.replace(/EN2/g, "ÉN");
car = car.replace(/EN3/g, "ĚN");
car = car.replace(/EN4/g, "ÈN");
car = car.replace(/ENG1/g, "ĒNG");
car = car.replace(/ENG2/g, "ÉNG");
car = car.replace(/ENG3/g, "ĚNG");
car = car.replace(/ENG4/g, "ÈNG");
car = car.replace(/IN1/g, "ĪN");
car = car.replace(/IN2/g, "ÍN");
car = car.replace(/IN3/g, "ǏN");
car = car.replace(/IN4/g, "ÌN");
car = car.replace(/ING1/g, "ĪNG");
car = car.replace(/ING2/g, "ÍNG");
car = car.replace(/ING3/g, "ǏNG");
car = car.replace(/ING4/g, "ÌNG");
car = car.replace(/ONG1/g, "ŌNG");
car = car.replace(/ONG2/g, "ÓNG");
car = car.replace(/ONG3/g, "ǑNG");
car = car.replace(/ONG4/g, "ÒNG");
car = car.replace(/UN1/g, "ŪN");
car = car.replace(/UN2/g, "ÚN");
car = car.replace(/UN3/g, "ǓN");
car = car.replace(/UN4/g, "ÙN");
car = car.replace(/ER2/g, "ÉR");
car = car.replace(/ER3/g, "ĚR");
car = car.replace(/ER4/g, "ÈR");
car = car.replace(/AŌ/g, "ĀO");
car = car.replace(/AÓ/g, "ÁO");
car = car.replace(/AǑ/g, "ǍO");
car = car.replace(/AÒ/g, "ÀO");
car = car.replace(/OŪ/g, "ŌU");
car = car.replace(/OÚ/g, "ÓU");
car = car.replace(/OǓ/g, "ǑU");
car = car.replace(/OÙ/g, "ÒU");
car = car.replace(/AĪ/g, "ĀI");
car = car.replace(/AÍ/g, "ÁI");
car = car.replace(/AǏ/g, "ǍI");
car = car.replace(/AÌ/g, "ÀI");
car = car.replace(/EĪ/g, "ĒI");
car = car.replace(/EÍ/g, "ÉI");
car = car.replace(/EǏ/g, "ĚI");
car = car.replace(/EÌ/g, "ÈI");

car = car.replace(/An1/g, "Ān");
car = car.replace(/An2/g, "Án");
car = car.replace(/An3/g, "Ǎn");
car = car.replace(/An4/g, "Àn");
car = car.replace(/Ang1/g, "Āng");
car = car.replace(/Ang2/g, "Áng");
car = car.replace(/Ang3/g, "Ǎng");
car = car.replace(/Ang4/g, "Àng");
car = car.replace(/En1/g, "Ēn");
car = car.replace(/En2/g, "Én");
car = car.replace(/En3/g, "Ěn");
car = car.replace(/En4/g, "Èn");
car = car.replace(/Eng1/g, "Ēng");
car = car.replace(/Eng2/g, "Éng");
car = car.replace(/Eng3/g, "Ěng");
car = car.replace(/Eng4/g, "Èng");
car = car.replace(/In1/g, "Īn");
car = car.replace(/In2/g, "Ín");
car = car.replace(/In3/g, "Ǐn");
car = car.replace(/In4/g, "Ìn");
car = car.replace(/Ing1/g, "Īng");
car = car.replace(/Ing2/g, "Íng");
car = car.replace(/Ing3/g, "Ǐng");
car = car.replace(/Ing4/g, "Ìng");
car = car.replace(/Ong1/g, "Ōng");
car = car.replace(/Ong2/g, "Óng");
car = car.replace(/Ong3/g, "Ǒng");
car = car.replace(/Ong4/g, "Òng");
car = car.replace(/Un1/g, "Ūn");
car = car.replace(/Un2/g, "Ún");
car = car.replace(/Un3/g, "Ǔn");
car = car.replace(/Un4/g, "Ùn");
car = car.replace(/Er2/g, "Ér");
car = car.replace(/Er3/g, "Ěr");
car = car.replace(/Er4/g, "Èr");
car = car.replace(/Aō/g, "Āo");
car = car.replace(/Aó/g, "Áo");
car = car.replace(/Aǒ/g, "Ǎo");
car = car.replace(/Aò/g, "Ào");
car = car.replace(/Oū/g, "Ōu");
car = car.replace(/Oú/g, "Óu");
car = car.replace(/Oǔ/g, "Ǒu");
car = car.replace(/Où/g, "Òu");
car = car.replace(/Aī/g, "Āi");
car = car.replace(/Aí/g, "Ái");
car = car.replace(/Aǐ/g, "Ǎi");
car = car.replace(/Aì/g, "Ài");
car = car.replace(/Eī/g, "Ēi");
car = car.replace(/Eí/g, "Éi");
car = car.replace(/Eǐ/g, "Ěi");
car = car.replace(/Eī/g, "Èi");

startPos = document.conversion.saisie.selectionStart;
endPos = document.conversion.saisie.selectionEnd;

beforeLen = document.conversion.saisie.value.length;
afterLen = car.length;
adjustment = afterLen - beforeLen;

document.conversion.saisie.value = car;

document.conversion.saisie.selectionStart = startPos + adjustment;
document.conversion.saisie.selectionEnd = endPos + adjustment;

var obj = document.conversion.saisie;
obj.focus();
obj.scrollTop = obj.scrollHeight;
}