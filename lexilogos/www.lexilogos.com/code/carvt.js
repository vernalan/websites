//  copyright lexilogos.com
var car;

function transcrire() {
car = document.conversion.saisie.value;
car = car.replace(/dd/g, "đ");
car = car.replace(/DD/g, "Đ");
car = car.replace(/đd/g, "d");
car = car.replace(/ĐD/g, "D");
car = car.replace(/a2/g, "à");
car = car.replace(/a3/g, "á");
car = car.replace(/a4/g, "ạ");
car = car.replace(/a5/g, "ã");
car = car.replace(/a6/g, "ả");
car = car.replace(/aa/g, "ă");
car = car.replace(/ă2/g, "ằ");
car = car.replace(/ă3/g, "ắ");
car = car.replace(/ă4/g, "ặ");
car = car.replace(/ă5/g, "ẵ");
car = car.replace(/ă6/g, "ẳ");
car = car.replace(/ăa/g, "â");
car = car.replace(/â2/g, "ầ");
car = car.replace(/â3/g, "ấ");
car = car.replace(/â4/g, "ậ");
car = car.replace(/â5/g, "ẫ");
car = car.replace(/â6/g, "ẩ");
car = car.replace(/âa/g, "a");
car = car.replace(/e2/g, "è");
car = car.replace(/e3/g, "é");
car = car.replace(/e4/g, "ẹ");
car = car.replace(/e5/g, "ẽ");
car = car.replace(/e6/g, "ẻ");
car = car.replace(/ee/g, "ê");
car = car.replace(/ê2/g, "ề");
car = car.replace(/ê3/g, "ế");
car = car.replace(/ê4/g, "ệ");
car = car.replace(/ê5/g, "ễ");
car = car.replace(/ê6/g, "ể");
car = car.replace(/êe/g, "e");
car = car.replace(/i2/g, "ì");
car = car.replace(/i3/g, "í");
car = car.replace(/i4/g, "ị");
car = car.replace(/i5/g, "ĩ");
car = car.replace(/i6/g, "ỉ");
car = car.replace(/o2/g, "ò");
car = car.replace(/o3/g, "ó");
car = car.replace(/o4/g, "ọ");
car = car.replace(/o5/g, "õ");
car = car.replace(/o6/g, "ỏ");
car = car.replace(/oo/g, "ơ");
car = car.replace(/ơ2/g, "ờ");
car = car.replace(/ơ3/g, "ớ");
car = car.replace(/ơ4/g, "ợ");
car = car.replace(/ơ5/g, "ỡ");
car = car.replace(/ơ6/g, "ở");
car = car.replace(/ơo/g, "ô");
car = car.replace(/ô2/g, "ồ");
car = car.replace(/ô3/g, "ố");
car = car.replace(/ô4/g, "ộ");
car = car.replace(/ô5/g, "ỗ");
car = car.replace(/ô6/g, "ổ");
car = car.replace(/ôo/g, "o");
car = car.replace(/u2/g, "ù");
car = car.replace(/u3/g, "ú");
car = car.replace(/u4/g, "ụ");
car = car.replace(/u5/g, "ũ");
car = car.replace(/u6/g, "ủ");
car = car.replace(/uu/g, "ư");
car = car.replace(/ư2/g, "ừ");
car = car.replace(/ư3/g, "ứ");
car = car.replace(/ư4/g, "ự");
car = car.replace(/ư5/g, "ữ");
car = car.replace(/ư6/g, "ử");
car = car.replace(/ưu/g, "u");
car = car.replace(/y2/g, "ỳ");
car = car.replace(/y3/g, "ý");
car = car.replace(/y4/g, "ỵ");
car = car.replace(/y5/g, "ỹ");
car = car.replace(/y6/g, "ỷ");
car = car.replace(/a=/g, "à");
car = car.replace(/à=/g, "á");
car = car.replace(/á=/g, "ạ");
car = car.replace(/ạ=/g, "ã");
car = car.replace(/ã=/g, "ả");
car = car.replace(/ả=/g, "a");
car = car.replace(/ă=/g, "ằ");
car = car.replace(/ằ=/g, "ắ");
car = car.replace(/ắ=/g, "ặ");
car = car.replace(/ặ=/g, "ẵ");
car = car.replace(/ẵ=/g, "ẳ");
car = car.replace(/ẳ=/g, "ă");
car = car.replace(/â=/g, "ầ");
car = car.replace(/ầ=/g, "ấ");
car = car.replace(/ấ=/g, "ậ");
car = car.replace(/ậ=/g, "ẫ");
car = car.replace(/ẫ=/g, "ẩ");
car = car.replace(/ẩ=/g, "â");
car = car.replace(/e=/g, "è");
car = car.replace(/è=/g, "é");
car = car.replace(/é=/g, "ẹ");
car = car.replace(/ẹ=/g, "ẽ");
car = car.replace(/ẽ=/g, "ẻ");
car = car.replace(/ẻ=/g, "e");
car = car.replace(/ê=/g, "ề");
car = car.replace(/ề=/g, "ế");
car = car.replace(/ế=/g, "ệ");
car = car.replace(/ệ=/g, "ễ");
car = car.replace(/ễ=/g, "ể");
car = car.replace(/ể=/g, "ê");
car = car.replace(/i=/g, "ì");
car = car.replace(/ì=/g, "í");
car = car.replace(/í=/g, "ị");
car = car.replace(/ị=/g, "ĩ");
car = car.replace(/ĩ=/g, "ỉ");
car = car.replace(/ỉ=/g, "i");
car = car.replace(/o=/g, "ò");
car = car.replace(/ò=/g, "ó");
car = car.replace(/ó=/g, "ọ");
car = car.replace(/ọ=/g, "õ");
car = car.replace(/õ=/g, "ỏ");
car = car.replace(/ỏ=/g, "o");
car = car.replace(/ô=/g, "ồ");
car = car.replace(/ồ=/g, "ố");
car = car.replace(/ố=/g, "ộ");
car = car.replace(/ộ=/g, "ỗ");
car = car.replace(/ỗ=/g, "ổ");
car = car.replace(/ổ=/g, "ô");
car = car.replace(/ơ=/g, "ờ");
car = car.replace(/ờ=/g, "ớ");
car = car.replace(/ớ=/g, "ợ");
car = car.replace(/ợ=/g, "ỡ");
car = car.replace(/ỡ=/g, "ở");
car = car.replace(/ở=/g, "ơ");
car = car.replace(/u=/g, "ù");
car = car.replace(/ù=/g, "ú");
car = car.replace(/ú=/g, "ụ");
car = car.replace(/ụ=/g, "ũ");
car = car.replace(/ũ=/g, "ủ");
car = car.replace(/ủ=/g, "u");
car = car.replace(/ư=/g, "ừ");
car = car.replace(/ừ=/g, "ứ");
car = car.replace(/ứ=/g, "ự");
car = car.replace(/ự=/g, "ữ");
car = car.replace(/ữ=/g, "ử");
car = car.replace(/ử=/g, "ư");
car = car.replace(/y=/g, "ỳ");
car = car.replace(/ỳ=/g, "ý");
car = car.replace(/ý=/g, "ỵ");
car = car.replace(/ỵ=/g, "ỹ");
car = car.replace(/ỹ=/g, "ỷ");
car = car.replace(/ỷ=/g, "y");
car = car.replace(/A2/g, "À");
car = car.replace(/A3/g, "Á");
car = car.replace(/A4/g, "Ạ");
car = car.replace(/A5/g, "Ã");
car = car.replace(/A6/g, "Ả");
car = car.replace(/AA/g, "Ă");
car = car.replace(/Ă2/g, "Ằ");
car = car.replace(/Ă3/g, "Ắ");
car = car.replace(/Ă4/g, "Ặ");
car = car.replace(/Ă5/g, "Ẵ");
car = car.replace(/Ă6/g, "Ẳ");
car = car.replace(/ĂA/g, "Â");
car = car.replace(/Â2/g, "Ầ");
car = car.replace(/Â3/g, "Ấ");
car = car.replace(/Â4/g, "Ậ");
car = car.replace(/Â5/g, "Ẫ");
car = car.replace(/Â6/g, "Ẩ");
car = car.replace(/ÂA/g, "A");
car = car.replace(/E2/g, "È");
car = car.replace(/E3/g, "É");
car = car.replace(/E4/g, "Ẹ");
car = car.replace(/E5/g, "Ẽ");
car = car.replace(/E6/g, "Ẻ");
car = car.replace(/EE/g, "Ê");
car = car.replace(/Ê2/g, "Ề");
car = car.replace(/Ê3/g, "Ế");
car = car.replace(/Ê4/g, "Ệ");
car = car.replace(/Ê5/g, "Ễ");
car = car.replace(/Ê6/g, "Ể");
car = car.replace(/ÊE/g, "E");
car = car.replace(/I2/g, "Ì");
car = car.replace(/I3/g, "Í");
car = car.replace(/I4/g, "Ị");
car = car.replace(/I5/g, "Ĩ");
car = car.replace(/I6/g, "Ỉ");
car = car.replace(/O2/g, "Ò");
car = car.replace(/O3/g, "Ó");
car = car.replace(/O4/g, "Ọ");
car = car.replace(/O5/g, "Õ");
car = car.replace(/O6/g, "Ỏ");
car = car.replace(/OO/g, "Ơ");
car = car.replace(/Ơ2/g, "Ờ");
car = car.replace(/Ơ3/g, "Ớ");
car = car.replace(/Ơ4/g, "Ợ");
car = car.replace(/Ơ5/g, "Ỡ");
car = car.replace(/Ơ6/g, "Ở");
car = car.replace(/ƠO/g, "Ô");
car = car.replace(/Ô2/g, "Ồ");
car = car.replace(/Ô3/g, "Ố");
car = car.replace(/Ô4/g, "Ộ");
car = car.replace(/Ô5/g, "Ỗ");
car = car.replace(/Ô6/g, "Ổ");
car = car.replace(/ÔO/g, "O");
car = car.replace(/U2/g, "Ù");
car = car.replace(/U3/g, "Ú");
car = car.replace(/U4/g, "Ụ");
car = car.replace(/U5/g, "Ũ");
car = car.replace(/U6/g, "Ủ");
car = car.replace(/UU/g, "Ư");
car = car.replace(/Ư2/g, "Ừ");
car = car.replace(/Ư3/g, "Ứ");
car = car.replace(/Ư4/g, "Ự");
car = car.replace(/Ư5/g, "Ữ");
car = car.replace(/Ư6/g, "Ử");
car = car.replace(/ƯU/g, "U");
car = car.replace(/Y2/g, "Ỳ");
car = car.replace(/Y3/g, "Ý");
car = car.replace(/Y4/g, "Ỵ");
car = car.replace(/Y5/g, "Ỹ");
car = car.replace(/Y6/g, "Ỷ");
car = car.replace(/A=/g, "À");
car = car.replace(/À=/g, "Á");
car = car.replace(/Á=/g, "Ạ");
car = car.replace(/Ạ=/g, "Ã");
car = car.replace(/Ã=/g, "Ả");
car = car.replace(/Ả=/g, "A");
car = car.replace(/Ă=/g, "Ằ");
car = car.replace(/Ằ=/g, "Ắ");
car = car.replace(/Ắ=/g, "Ặ");
car = car.replace(/Ặ=/g, "Ẵ");
car = car.replace(/Ẵ=/g, "Ẳ");
car = car.replace(/Ẳ=/g, "Ă");
car = car.replace(/Â=/g, "Ầ");
car = car.replace(/Ầ=/g, "Ấ");
car = car.replace(/Ấ=/g, "Ậ");
car = car.replace(/Ậ=/g, "Ẫ");
car = car.replace(/Ẫ=/g, "Ẩ");
car = car.replace(/Ẩ=/g, "Â");
car = car.replace(/E=/g, "È");
car = car.replace(/È=/g, "É");
car = car.replace(/É=/g, "Ẹ");
car = car.replace(/Ẹ=/g, "Ẽ");
car = car.replace(/Ẽ=/g, "Ẻ");
car = car.replace(/Ẻ=/g, "E");
car = car.replace(/Ê=/g, "Ề");
car = car.replace(/Ề=/g, "Ế");
car = car.replace(/Ế=/g, "Ệ");
car = car.replace(/Ệ=/g, "Ễ");
car = car.replace(/Ễ=/g, "Ể");
car = car.replace(/Ể=/g, "Ê");
car = car.replace(/I=/g, "Ì");
car = car.replace(/Ì=/g, "Í");
car = car.replace(/Í=/g, "Ị");
car = car.replace(/Ị=/g, "Ĩ");
car = car.replace(/Ĩ=/g, "Ỉ");
car = car.replace(/Ỉ=/g, "I");
car = car.replace(/O=/g, "Ò");
car = car.replace(/Ò=/g, "Ó");
car = car.replace(/Ó=/g, "Ọ");
car = car.replace(/Ọ=/g, "Õ");
car = car.replace(/Õ=/g, "Ỏ");
car = car.replace(/Ỏ=/g, "O");
car = car.replace(/Ô=/g, "Ồ");
car = car.replace(/Ồ=/g, "Ố");
car = car.replace(/Ố=/g, "Ộ");
car = car.replace(/Ộ=/g, "Ỗ");
car = car.replace(/Ỗ=/g, "Ổ");
car = car.replace(/Ổ=/g, "Ô");
car = car.replace(/Ơ=/g, "Ờ");
car = car.replace(/Ờ=/g, "Ớ");
car = car.replace(/Ớ=/g, "Ợ");
car = car.replace(/Ợ=/g, "Ỡ");
car = car.replace(/Ỡ=/g, "Ở");
car = car.replace(/Ở=/g, "Ơ");
car = car.replace(/U=/g, "Ù");
car = car.replace(/Ù=/g, "Ú");
car = car.replace(/Ú=/g, "Ụ");
car = car.replace(/Ụ=/g, "Ũ");
car = car.replace(/Ũ=/g, "Ủ");
car = car.replace(/Ủ=/g, "U");
car = car.replace(/Ư=/g, "Ừ");
car = car.replace(/Ừ=/g, "Ứ");
car = car.replace(/Ứ=/g, "Ự");
car = car.replace(/Ự=/g, "Ữ");
car = car.replace(/Ữ=/g, "Ử");
car = car.replace(/Ử=/g, "Ư");
car = car.replace(/Y=/g, "Ỳ");
car = car.replace(/Ỳ=/g, "Ý");
car = car.replace(/Ý=/g, "Ỵ");
car = car.replace(/Ỵ=/g, "Ỹ");
car = car.replace(/Ỹ=/g, "Ỷ");
car = car.replace(/Ỷ=/g, "Y");

startPos = document.conversion.saisie.selectionStart;
endPos = document.conversion.saisie.selectionEnd;

beforeLen = document.conversion.saisie.value.length;
afterLen = car.length;
adjustment = afterLen - beforeLen;

document.conversion.saisie.value = car;

document.conversion.saisie.selectionStart = startPos + adjustment;
document.conversion.saisie.selectionEnd = endPos + adjustment;

var obj = document.conversion.saisie;
obj.focus();
obj.scrollTop = obj.scrollHeight;
}